<!DOCTYPE html>
<html lang="en">
  <!-- Copyright (C) 2016 Eye on Western Canada
       Author: Dylan Grandmont 
     -->
  <head>
    <title>Eye on Western Canada</title>
    <meta charset="utf-8">
    <meta name="description" content="Dynamic Oil and Gas mapping products to track industry activity across Western Canada.">
    <meta name="keywords" content="IONWC,Eye,Western,Canada,Well,Activity,License,Licence,Spud,Map,Alberta,BC,Saskatchewan,Manitoba,Pipeline,Facilities">
    <meta name="author" content="Dylan Grandmont">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="http://www.ionwc.com/favicon.ico?v=2" />
    <link rel="stylesheet" href="http://ionwc.com/css/w3.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Montserrat" />
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Lato" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> 
    <link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/smoothness/jquery-ui.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyBpzML-TxjPkxtZlj0J7ry9OfyGb1RoEZk"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"> 
    <link rel="stylesheet" type="text/css" href="http://ionwc.com/css/ionwc.css" />
    <script type="text/javascript" src="http://ionwc.com/maps/maps.js?v=2" ></script>
    <style>
      #welcome-panel {
        line-height: 1.2;
        position: absolute;
        width: calc(100% - 2px);
        max-height: calc(100% - 51px);
        top: 50px;
        right: 1px;
        z-index: 5;
        background-color : rgba(255,255,255,0.9);
        border: 1px solid #999;
        text-align: left;
        overflow-x: hidden;
      }
      .thumbnail {
        padding: 10px 10px 15px 10px;
        border-radius: 6px;
      }
      .container-fluid {
        padding: 60px 40px;
      }
      .map-product {
        height: 450px;
        width: 100%;
      }
      .overlay {
        width: 100%;
        height: 100%;
        z-index:20;
        opacity: 1;
      }
      .overlay:hover {
        opacity: 0.7;
        background-color: white;
      }
      .map-button {
        background-color: white;
        opacity: 0.9;
        position: absolute; 
        top:200px; 
        height: 80px; 
        width: 30%; 
        right: 0px; 
        left: 0px; 
        margin: 0 auto; 
        z-index: 30; 
        border: 2px solid #f4511e;
      }
      .map-button:hover {
        opacity: 1;
      }
      .glyphicon.glyphicon-certificate {
        font-size: 16px;
        font-weight: 600;
      }
      @media screen and ( max-width: 1000px ) {
        #titleForPage:after {
          content: "IONWC";
        }
      }
      @media screen and ( min-width: 1001px ) {
        #titleForPage:after {
          content: "Eye on Western Canada";
        }
      }
      @media screen and ( max-width: 1500px ) {
        #welcomeTitle {
          font-size: 6vw;
        }
        #slogan {
          font-size: 3vw;
        }
      }
      @media screen and ( min-width: 1501px ) {
        #welcomeTitle {
          font-size: 60px;
        }
        #slogan {
          font-size: 30px;
        }
      }
    </style>
    <script type="text/javascript">
      var map;

      initialize = function() {
        var mapOptions;

        mapOptions = {
          suppressInfoWindows: true,
          center: {lat: 55, lng: -111},
          zoom: 5,
          scaleControl: true,
          streetViewControl: false,
          disableDefaultUI: true,
          mapTypeId: google.maps.MapTypeId.TERRAIN,
          mapTypeControlOptions: {
            position: google.maps.ControlPosition.BOTTOM_CENTER
          },
          draggable: false,
          zoomControl: false,
          scrollwheel: false,
          disableDoubleClickZoom: true
        };

        map = new google.maps.Map(document.getElementById("map"), mapOptions);

        bc = new  google.maps.KmlLayer('http://ionwc.com/data/kml/bc_border.kml', {preserveViewport: true});
        ab = new  google.maps.KmlLayer('http://ionwc.com/data/kml/ab_wcsb.kml', {preserveViewport: true});
        sk = new  google.maps.KmlLayer('http://ionwc.com/data/kml/sk_wcsb.kml', {preserveViewport: true});
        mb = new  google.maps.KmlLayer('http://ionwc.com/data/kml/mb_wcsb.kml', {preserveViewport: true});

        bc.setMap(map);
        ab.setMap(map);
        sk.setMap(map);
        mb.setMap(map);
      };

      google.maps.event.addDomListener(window, 'load', initialize);

      isNew = function(date) {
        return true;
      };

      getLatLngFromProvince = function(province) {
        var lat,
            lng;

        if (province == 'bc') {
          lat = 57;
          lng = -114;
        } else if (province == 'ab') {
          lat = 53.5;
          lng = -108.5;
        } else if (province == 'sk') {
          lat = 52;
          lng = -104;
        } else if (province == 'mb') {
          lat = 52;
          lng = -100;
        }

        return [lat, lng]
      }

      generateDisplayString = function(reportUrl) {
        var province = reportUrl.substring(0,2),
            date = reportUrl.substring(3, 13),
            googleDate = date.replace('-', '.'),
            newReport = isNew(googleDate),
            newStamp = "",
            coordinates = getLatLngFromProvince(province);

        if (newReport) {
          newStamp = " <span class='glyphicon glyphicon-certificate' style='color: #f4511e'>New!</span>"
        }

        var reportText = $.ajax({
          url: "http://ionwc.com/reports/landsales/" + reportUrl,
          async: false
        }).responseText;

        return "<div class='row'><div class='col-sm-8'><h2>Land Sale Report | " + province + " | " + date + newStamp + "</h2><p><a href='http://ionwc.com/maps/landsales?date=" + googleDate + "&zoom=6&lat=" + coordinates[0] + "&lng=" + coordinates[1] + "&report=" + reportUrl + "' target='_blank'>Click To View Map</a> | " + reportText + "</div></div><br>"
      };

      $(document).ready(function() {
        $('#reportList').html(generateDisplayString('ab-2017-01-25')
                            + generateDisplayString('bc-2017-01-18')
                            + generateDisplayString('ab-2017-01-11')
                            + generateDisplayString('sk-2016-12-06')
        );
      });
    </script>
  </head>
  <body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="60">

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container" style="height: 50px;">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>                        
          </button>
          <a class='navbar-brand' ><div id="titleForPage"></div></a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar"> 
          <ul class="nav navbar-nav navbar-right" style="background-color: #f4511e; margin-top: 0px;">
            <li><a href="http://ionwc.com/index.html">HOME</a></li>
            <li class="w3-small w3-dropdown-hover">
              <a href="javascript:void(0)"  class="w3-hover-none" style="height:50px; vertical-align: middle;">MAPS <i class="fa fa-caret-down"></i></a>     
              <div class="w3-dropdown-content w3-white w3-card-4" style="background-color:#f4511e;">
                <a href="http://ionwc.com/maps/drilling" style="background-color:#f4511e;">Drilling</a>
                <a href="http://ionwc.com/maps/licensing" style="background-color:#f4511e;">Licensing</a>
                <a href="http://ionwc.com/maps/landsales" style="background-color:#f4511e;">Land Sales</a>
              </div>
            </li>
            <li><a href="http://ionwc.com/index.html#subscribe">SUBSCRIBE</a></li>
            <li><a href="http://ionwc.com/index.html#contact">CONTACT</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="map"></div>

    <div id="welcome-panel">
      <div style="width:100%; text-align: center; background-color: rgba(255,255,255,0); color: black; padding-top: calc(35vh);  padding-bottom: calc(35vh);" id="welcome-button">
        <center style= 'display: inline-block;'>
          <h1 id="welcomeTitle">Eye On Western Canada<img src='http://ionwc.com/imgs/ionwcIconInvert.png' style='height:1em; padding-left: 15px;'></h1>
          <p id="slogan">Reports</p>
        </center> 
      </div>
      <div>
        <div id="reportList" class="container-fluid">
        </div>

        <div id="contact" class="container-fluid bg-grey">
          <div class="row">
            <div class="col-sm-4">
              <h3>CONTACT US</h3>
              <p>Contact for advertising opportunities and inquiries.</p>
              <p><span class="glyphicon glyphicon-envelope"></span> contact@ionwc.com</p>
              <p><span class="glyphicon glyphicon-map-marker"></span> Calgary, AB</p>
            </div>
            <div class="col-sm-4">
              <h3>PRODUCTS</h3>
              <p><a href="http://ionwc.com/maps/drilling" style="color: inherit;">Drilling Map</a></p>
              <p><a href="http://ionwc.com/maps/licensing" style="color: inherit;">Licensing Map</a></p>
              <p><a href="http://ionwc.com/maps/landsales" style="color: inherit;">Land Sales Map</a></p>
            </div>
            <div class="col-sm-4">
              <h3>CONNECT WITH US</h3>
              <p>
                <i class="fa fa-linkedin" aria-hidden="true"></i>
                <a href="https://www.linkedin.com/company/eye-on-western-canada"> LinkedIn</a>
              </p>
              <script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US</script>
              <script type="IN/FollowCompany" data-id="10692504" data-counter="right"></script>
            </div>
          </div>
        </div>
        <div id="footer" class="container-fluid bg-grey">
          <div class="row">
            <div class="col-sm-5">
              <b style="font-size: 12px">IONWC | &copy; 2016 Eye on Western Canada</b>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      $(document).ready(function(){
        $(".navbar a, footer a[href='#myPage']").on('click', function(event) {
          if (this.hash !== "") {
            event.preventDefault();

            var hash = this.hash;

            $('html, body').animate({
              scrollTop: $(hash).offset().top
            }, 900, function(){
              window.location.hash = hash;
            });
          }
        });

        $(window).scroll(function() {
          $(".slideanim").each(function(){
            var pos = $(this).offset().top;

            var winTop = $(window).scrollTop();
            if (pos < winTop + 600) {
              $(this).addClass("slide");
            }
          });
        });
      })
    </script>
  </body>
</html>


